<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Algumas vantagens de utilizar models no javascript com Vue.js - Igor Trindade Portfolio</title><meta name="gridsome:hash" content="4d67806835819d3b1f86ecb0b1df9c60053f456d"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.10"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="keywords" content="HTML,CSS,XML,JavaScript"><meta data-vue-tag="ssr" name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta data-vue-tag="ssr" name="theme-color" content="#1A3742"><meta data-vue-tag="ssr" name="msapplication-navbutton-color" content="#1A3742"><meta data-vue-tag="ssr" name="apple-mobile-web-app-status-bar-style" content="#1A3742"><meta data-vue-tag="ssr" property="og:type" content="website"><meta data-vue-tag="ssr" property="og:url" content="https://igortrindade.dev"><meta data-vue-tag="ssr" property="og:image" content="https://igortrindade.dev/img/igor-home.jpg"><meta data-vue-tag="ssr" property="og:type" content="site"><meta data-vue-tag="ssr" property="og:title" content="Algumas vantagens de utilizar models no javascript"><meta data-vue-tag="ssr" property="og:description" content="A reatividade a favor do dev"><link data-vue-tag="ssr" rel="icon" type="image/png" href="/img/logo/icon.png"><link rel="preload" href="/assets/css/0.styles.042be438.css" as="style"><link rel="preload" href="/assets/js/app.1fa3321f.js" as="script"><link rel="preload" href="/assets/js/page--src--pages--stories--algumas-vantagens-de-utilizar-models-no-javascript-vue.4f303fbb.js" as="script"><link rel="prefetch" href="/assets/js/page--src--layouts--show-project-vue.f3810934.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.94e41fa3.js"><link rel="prefetch" href="/assets/js/page--src--pages--contact--index-vue.8c514023.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.f648ea20.js"><link rel="prefetch" href="/assets/js/page--src--pages--layouts--default-vue.fb8d5da4.js"><link rel="prefetch" href="/assets/js/page--src--pages--layouts--error-vue.63f737a5.js"><link rel="prefetch" href="/assets/js/page--src--pages--layouts--terminal-menu-vue.77172b6a.js"><link rel="prefetch" href="/assets/js/page--src--pages--projects--index-vue.8d84ed93.js"><link rel="prefetch" href="/assets/js/page--src--pages--stories--index-vue.ad4a75b8.js"><link rel="stylesheet" href="/assets/css/0.styles.042be438.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" data-v-f1c472f0><div id="main-div" class="background"><div class="align-center"><span class="terminal-header-backdrop"></span><div class="terminal-window"><span class="terminal-header"><img src="/img/balls/ball_red_0.svg" class="ball-0 m-l-10"><img src="/img/balls/ball_red_1.svg" class="ball-1 m-l-10"><img src="/img/balls/ball_yellow_0.svg" class="ball-0 m-l-5"><img src="/img/balls/ball_yellow_1.svg" class="ball-1 m-l-5"><img src="/img/balls/ball_green_0.svg" class="ball-0 m-l-5"><img src="/img/balls/ball_green_1.svg" class="ball-1 m-l-5"></span><div class="terminal-content"><div class="terminal-body"><!----></div><span class="terminal-messages">Welcome to Igor Trindade's terminal! Type commands like cd projects or click here</span><span class="terminal-typed"><span class="terminal-user">igortrindade</span>$
        <span class="terminal-cursor"></span><input id="terminal-input" type="text" spellcheck="false" autocapitalize="none" value="" class="terminal-input"></span></div></div><audio id="typing-audio" src="/audio/typing.mp3" controls="controls" style="display: none;"></audio><audio id="typing-audio-short" src="/audio/typing_short.mp3" controls="controls" style="display: none;"></audio><audio id="typing-audio-enter" src="/audio/typing_enter.mp3" controls="controls" style="display: none;"></audio></div><div class="container"><section data-v-f1c472f0><pre class="language-javascript" style="white-space:pre-wrap;word-break:break-all;" data-v-f1c472f0><code class="language-javascript" data-v-f1c472f0><span class="token keyword">const</span> Story <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">"title"</span> <span class="token punctuation">:</span> <span class="token string">"Algumas vantagens de utilizar models no javascript com Vue.js"</span>
<span class="token punctuation">}</span></code></pre><div class="story-content" data-v-f1c472f0><p data-v-f1c472f0>
        Se você utiliza ou já utilizou <a href="https://vuejs.org" target="_blank" data-v-f1c472f0>Vue.js</a> em seus projetos provavelmente você já ouviu falar de data bind e reatividade.
      </p><p data-v-f1c472f0>
        Eu mesmo visitei <a target="_blank" href="https://br.vuejs.org/v2/guide/reactivity.html" data-v-f1c472f0>esta página da documentação</a>
        algumas booas vezes sempre que surgia dúvida do que fazer quando a propriedade de 
        algum objeto insistia em não ser tão reativa assim como esperado.
      </p><p data-v-f1c472f0>Pois é, reatividade é a base da maioria dos frameworks modernos e com o Vue.Js não é diferente.
        Resumindo muito, mas muito mesmo: para que a varinha mágica da reatividade 
        funcione no Vue.js, basicamente ele precisa conhecer os dados de seu objeto e 
        uma das maneiras de fazer isso é declarar a estrutura de seu objeto na 
        propriedade &quot;data&quot; de seus componentes:
      </p></div><pre class="language-javascript" data-v-f1c472f0><code class="language-javascript" data-v-f1c472f0><span class="token comment">//VueComponent.vue</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'Igor'</span><span class="token punctuation">,</span>
        last_name<span class="token punctuation">:</span> <span class="token string">'Trindade'</span><span class="token punctuation">,</span>
        tax_document<span class="token punctuation">:</span> <span class="token string">'123.456.789-01'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span></code></pre><div class="story-content" data-v-f1c472f0><p data-v-f1c472f0>
        Conforme sua aplicação vai crescendo e você vai criando cada vez mais 
        componentes você vai precisar replicar a estrutura de seus objetos entre 
        seus componentes.
      </p><p data-v-f1c472f0>
        É nesta hora que separar a estrutura dos seus Models pode ser muito útil inclusive
        para facilitar a manutenção de sua aplicação.
      </p><p data-v-f1c472f0>Isto que estou falando não é nada novo, na verdade é um dos padrões mais difundidos
        da nossa área: a programação orientada a objetos. 
      </p><p data-v-f1c472f0>
        Mas o que talvez você ainda não tenha pensado é que você pode aproveitar esse padrão 
        também do lado do frontend e ganhar tempo tornando o desenvolvimento das 
        suas aplicações com Vue e Javascript ainda mais eficaz e organizado.
      </p><p data-v-f1c472f0>
        Então chega de enrolação e vamos ao que interessa: o código! 
        Vamos começar criando nossa classe <b data-v-f1c472f0>User</b> para utilizarmos em nossos componentes;
      </p></div><pre class="language-javascript" data-v-f1c472f0><code class="language-javascript" data-v-f1c472f0><span class="token comment">//User.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> obj<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last_name <span class="token operator">=</span> obj<span class="token punctuation">.</span>last_name <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tax_document <span class="token operator">=</span> obj<span class="token punctuation">.</span>tax_document <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><div class="story-content" data-v-f1c472f0><p data-v-f1c472f0>
        Agora em todo lugar que você precisar utilizar seu 
        objeto <b data-v-f1c472f0>user: { ... }</b> você pode apenas criar uma nova instância 
        através do constructor: <b data-v-f1c472f0>new User()</b></p></div><pre class="language-javascript" data-v-f1c472f0><code class="language-javascript" data-v-f1c472f0><span class="token comment">//VueComponent.vue</span>
<span class="token keyword">import</span> User <span class="token keyword">from</span> <span class="token string">'/models/User'</span> <span class="token comment">//caminho do model</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span></code></pre><div class="story-content" data-v-f1c472f0><p data-v-f1c472f0>
        Mas você deve estar se perguntando qual a real vantagem de separar a camada 
        do Model sendo que inicialmente a gente acaba escrevendo mais código, não é mesmo?
      </p><p data-v-f1c472f0>Pois agora começa a parte realmente interessante!</p><p data-v-f1c472f0>
        Assim como no backend boa parte dos Models possuem métodos de transformação dos dados e
        criando seus Models também do lado do client(frontend) você também pode utilizar esse e outros benefícios maravilhosos
        da programação orientada a objetos, por exemplo criando mutations que tratam 
        os atributos das suas classes no retorno do banco ou API's.
        Ou seja, padronizando a entrada de dados na sua aplicação.
        Veja um exemplo simples de mutation com data de nascimento;
      </p></div><pre class="language-javascript" data-v-f1c472f0><code class="language-javascript" data-v-f1c472f0><span class="token comment">//User.js</span>
<span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">'moment'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> obj<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last_name <span class="token operator">=</span> obj<span class="token punctuation">.</span>last_name <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tax_document <span class="token operator">=</span> obj<span class="token punctuation">.</span>tax_document <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>

    <span class="token comment">/**
    * Mutations
    */</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>bday <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>bday<span class="token punctuation">,</span> <span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'DD/MM/YYYY'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="story-content" data-v-f1c472f0><p data-v-f1c472f0>No exemplo acima ao instânciar um objeto da classe User, 
        nós verificamos se a propriedade bday do objeto que recebemos pelo parâmetro 
        no construtor é válida ou true e aplicamos a mutation que irá formatar a data para o formato 'DD/MM/YYYY'.
        Caso contrário nós passamos uma string vazia para que o atributo tenha a propriedade definida com o 
        valor default que setamos na segundo condição dos operadores lógicos
      </p><p data-v-f1c472f0>
        E se você já gostou do que viu, imagine agora implementar uma validação 
        dinânima e personalizada para seus forms podendo criar funções específicas por campo,
        centralizadas em uma única classe e que poderá ser reutilizada aonde quer que você 
        precise validar uma instância daquele Model?
      </p><p data-v-f1c472f0>Pois bem, veja abaixo o que um Turbo Model pode fazer por você:</p></div><pre class="language-javascript" data-v-f1c472f0><code class="language-javascript" data-v-f1c472f0><span class="token keyword">get</span> <span class="token function">requireds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      item<span class="token punctuation">:</span> <span class="token string">'tax_document'</span><span class="token punctuation">,</span>
      label<span class="token punctuation">:</span> <span class="token string">'cpf válido'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">validation</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>

        <span class="token keyword">let</span> cpf <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/D/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>cpf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">11</span> <span class="token operator">||</span> <span class="token regex">/^(d)\1{10}$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>cpf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">var</span> soma <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r<span class="token punctuation">;</span>
          cpf<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/(?=)/</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            soma <span class="token operator">+=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          r <span class="token operator">=</span> soma <span class="token operator">%</span> <span class="token number">11</span><span class="token punctuation">;</span>
          r <span class="token operator">=</span> <span class="token punctuation">(</span>r <span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">11</span><span class="token operator">-</span>r<span class="token punctuation">;</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>r <span class="token operator">!=</span> cpf<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> result <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">get</span> <span class="token function">errors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>requireds<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>validation<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> req<span class="token punctuation">.</span><span class="token function">validation</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'string'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span> <span class="token operator">||</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> req
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">get</span> <span class="token function">hasError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>errors<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>

<span class="token keyword">get</span> <span class="token function">error_phrases</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    init<span class="token punctuation">:</span> <span class="token string">'Você precisa informar '</span><span class="token punctuation">,</span>
    end<span class="token punctuation">:</span> <span class="token string">' para concluir o cadastro.'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">get</span> <span class="token function">validation_phrase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>hasError<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'Uhull, tudo certo! Clique em cadastrar.'</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>error_phrases<span class="token punctuation">.</span>init <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>errors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">erro</span><span class="token punctuation">)</span> <span class="token operator">=></span> erro<span class="token punctuation">.</span>label<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">', '</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>error_phrases<span class="token punctuation">.</span>end<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="story-content" data-v-f1c472f0><p data-v-f1c472f0>Este é um pequeno exemplo de form utilizando nosso &quot;Turbo&quot; Model User com validação do CPF na própria classe que pode ser utilizado em toda aplicação sem ou com quase nada de recódigo.
      </p><div data-v-f1c472f0><label data-v-f1c472f0>Validação CPF (insira um CPF válido)</label><input type="tel" placeholder="123.123.123-01" value="" data-v-f1c472f0><button disabled="disabled" type="button" class="btn btn-primary btn-xs m-t-10" data-v-f1c472f0>
          Cadastrar
        </button><p data-v-f1c472f0>Você precisa informar cpf válido para concluir o cadastro.</p></div></div><pre class="language-html" data-v-f1c472f0><code class="language-html" data-v-f1c472f0>//Form acima
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>Validação CPF (insira um CPF válido)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tel<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>123.123.123-01<span class="token punctuation">"</span></span> <span class="token attr-name">v-mask</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>###.###.###-##'<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user.tax_document<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>go()<span class="token punctuation">"</span></span>  <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userForValidation.hasError<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary m-t-10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Cadastrar
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>{{userForValidation.validation_phrase}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><div class="story-content" data-v-f1c472f0><p data-v-f1c472f0>Note que utilizamos acima o objeto <b data-v-f1c472f0>userForValidation</b> que é uma 
      propriedade computed do Vue.js para que nossa aplicação seja avisada 
      após qualquer alteração no objeto instância, utilizando a reatividade a nosso favor.
      </p></div><pre class="language-javascript" data-v-f1c472f0><code class="language-javascript" data-v-f1c472f0><span class="token comment">//Utilizando a reatividade a seu favor</span>
computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">userForValidation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><div class="story-content" data-v-f1c472f0><p data-v-f1c472f0>E para completar este é nosso <b data-v-f1c472f0>Turbo Model User</b> completo:</p></div><pre class="language-javascript" data-v-f1c472f0><code class="language-javascript" data-v-f1c472f0><span class="token comment">// Model User.js (completo)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>tax_document <span class="token operator">=</span> obj<span class="token punctuation">.</span>tax_document <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">requireds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        item<span class="token punctuation">:</span> <span class="token string">'tax_document'</span><span class="token punctuation">,</span>
        label<span class="token punctuation">:</span> <span class="token string">'cpf válido'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">validation</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>

          <span class="token keyword">let</span> cpf <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/D/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>cpf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">11</span> <span class="token operator">||</span> <span class="token regex">/^(d)\1{10}$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>cpf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">var</span> soma <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r<span class="token punctuation">;</span>
            cpf<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/(?=)/</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              soma <span class="token operator">+=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            r <span class="token operator">=</span> soma <span class="token operator">%</span> <span class="token number">11</span><span class="token punctuation">;</span>
            r <span class="token operator">=</span> <span class="token punctuation">(</span>r <span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">11</span><span class="token operator">-</span>r<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>r <span class="token operator">!=</span> cpf<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> result <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">errors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>requireds<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>validation<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> req<span class="token punctuation">.</span><span class="token function">validation</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'string'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span> <span class="token operator">||</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">[</span>req<span class="token punctuation">.</span>item<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> req
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">hasError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>errors<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">error_phrases</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      init<span class="token punctuation">:</span> <span class="token string">'Você precisa informar '</span><span class="token punctuation">,</span>
      end<span class="token punctuation">:</span> <span class="token string">' para concluir o cadastro.'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">validation_phrase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>hasError<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'Uhull, tudo certo! Clique em cadastrar.'</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>error_phrases<span class="token punctuation">.</span>init <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>errors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">erro</span><span class="token punctuation">)</span> <span class="token operator">=></span> erro<span class="token punctuation">.</span>label<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">', '</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>error_phrases<span class="token punctuation">.</span>end<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre></section><section style="margin-top:50px;" data-v-f1c472f0><h1 class="text-center">
    let that = this
  </h1><div class="row m-t-30 text-center"><div class="col-sm-12 col-md-12 text-center"><p>This project was made using <a href="https://github.com/vuejs/vue" target="_blank">Vue.Js</a> and <a href="https://gridsome.org/" target="_blank">Gridsome</a></p><p>Did you see something that could be improved here? Send a pull request \o/</p></div><div class="col-sm-12 col-md-12 text-center"><a href="https://github.com/igortrinidad/igortrindade-portfolio" target="_blank" class="btn btn-outline btn-primary m-t-10">See this repo on GitHub</a></div></div></section></div></div></div>
    <script>window.__INITIAL_STATE__={"data":null,"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.1fa3321f.js" defer></script><script src="/assets/js/page--src--pages--stories--algumas-vantagens-de-utilizar-models-no-javascript-vue.4f303fbb.js" defer></script>
  </body>
</html>
