(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{227:function(e,n,t){},233:function(e,n,t){"use strict";function a(e){for(var n=arguments,t=1;t<arguments.length;t++)for(var a in arguments[t])e[a]=n[t][a];return e}var r={functional:!0,props:{code:{type:String},inline:{type:Boolean,default:!1},language:{type:String,default:"markup"}},render:function(e,n){var t=n.props.code||(n.children&&n.children.length>0?n.children[0].text:""),r=n.props.inline,o=n.props.language,s=Prism.languages[o],i="language-"+o;return r?e("code",a({},n.data,{class:[n.data.class,i],domProps:a({},n.data.domProps,{innerHTML:Prism.highlight(t,s)})})):e("pre",a({},n.data,{class:[n.data.class,i]}),[e("code",{class:i,domProps:{innerHTML:Prism.highlight(t,s)}})])}};e.exports=r},234:function(e,n,t){"use strict";var a=t(227);t.n(a).a},235:function(e,n,t){"use strict";var a={name:"HomeThis",data:function(){return{pageLT:0}},mounted:function(){this.pageLT=(window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart)/1e3+" seconds"}},r=(t(234),t(31)),o=Object(r.a)(a,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,n=this._self._c||e;return n("section",[n("h1",{staticClass:"text-center"},[this._v("\n    let that = this\n  ")]),n("div",{staticClass:"w-full mt-4 text-center"},[n("p",[this._v("This project was made using "),n("a",{attrs:{href:"https://github.com/vuejs/vue",target:"_blank"}},[this._v("Vue.Js")]),this._v(" and "),n("a",{attrs:{href:"https://gridsome.org/",target:"_blank"}},[this._v("Gridsome")])]),n("p",[this._v("Did you see something that could be improved here? Send a pull request \\o/")]),n("div",{staticClass:"w-full text-center mt-4"},[n("a",{staticClass:"btn btn-outline btn-primary btn-xs",attrs:{href:"https://github.com/igortrinidad/igortrindade-portfolio",target:"_blank"}},[this._v("See this repo on GitHub")])])])])}],!1,null,null,null);n.a=o.exports},238:function(e,n,t){"use strict";t(239);var a=t(5),r=t(98),o=t(6),s=/./.toString,i=function(e){t(17)(RegExp.prototype,"toString",e,!0)};t(7)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?i((function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)})):"toString"!=s.name&&i((function(){return s.call(this)}))},239:function(e,n,t){t(6)&&"g"!=/./g.flags&&t(9).f(RegExp.prototype,"flags",{configurable:!0,get:t(98)})},240:function(e,n,t){var a=Date.prototype,r=a.toString,o=a.getTime;new Date(NaN)+""!="Invalid Date"&&t(17)(a,"toString",(function(){var e=o.call(this);return e==e?r.call(this):"Invalid Date"}))},241:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,"a",(function(){return a}))},242:function(e,n,t){},254:function(e,n,t){!function(){var n=Object.assign||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e};function t(e){this.defaults=n({},e)}function a(e){for(var n=0,t=0;t<e.length;++t)e.charCodeAt(t)=="\t".charCodeAt(0)&&(n+=3);return e.length+n}t.prototype={setDefaults:function(e){this.defaults=n(this.defaults,e)},normalize:function(e,t){for(var a in t=n(this.defaults,t)){var r=a.replace(/-(\w)/g,(function(e,n){return n.toUpperCase()}));"normalize"!==a&&"setDefaults"!==r&&t[a]&&this[r]&&(e=this[r].call(this,e,t[a]))}return e},leftTrim:function(e){return e.replace(/^\s+/,"")},rightTrim:function(e){return e.replace(/\s+$/,"")},tabsToSpaces:function(e,n){return n=0|n||4,e.replace(/\t/g,new Array(++n).join(" "))},spacesToTabs:function(e,n){return n=0|n||4,e.replace(RegExp(" {"+n+"}","g"),"\t")},removeTrailing:function(e){return e.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(e){return e.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(e){var n=e.match(/^[^\S\n\r]*(?=\S)/gm);return n&&n[0].length?(n.sort((function(e,n){return e.length-n.length})),n[0].length?e.replace(RegExp("^"+n[0],"gm"),""):e):e},indent:function(e,n){return e.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++n).join("\t")+"$&")},breakLines:function(e,n){n=!0===n?80:0|n||80;for(var t=e.split("\n"),r=0;r<t.length;++r)if(!(a(t[r])<=n)){for(var o=t[r].split(/(\s+)/g),s=0,i=0;i<o.length;++i){var u=a(o[i]);(s+=u)>n&&(o[i]="\n"+o[i],s=u)}t[r]=o.join("")}return t.join("\n")}},e.exports&&(e.exports=t),"undefined"!=typeof Prism&&(Prism.plugins.NormalizeWhitespace=new t({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",(function(e){var n=Prism.plugins.NormalizeWhitespace;if(!e.settings||!1!==e.settings["whitespace-normalization"])if(e.element&&e.element.parentNode||!e.code){var t=e.element.parentNode,a=/(?:^|\s)no-whitespace-normalization(?:\s|$)/;if(e.code&&t&&"pre"===t.nodeName.toLowerCase()&&!a.test(t.className)&&!a.test(e.element.className)){for(var r=t.childNodes,o="",s="",i=!1,u=0;u<r.length;++u){var l=r[u];l==e.element?i=!0:"#text"===l.nodeName&&(i?s+=l.nodeValue:o+=l.nodeValue,t.removeChild(l),--u)}if(e.element.children.length&&Prism.plugins.KeepMarkup){var c=o+e.element.innerHTML+s;e.element.innerHTML=n.normalize(c,e.settings),e.code=e.element.textContent}else e.code=o+e.code+s,e.code=n.normalize(e.code,e.settings)}}else e.code=n.normalize(e.code,e.settings)})))}()},255:function(e,n,t){"use strict";var a=t(242);t.n(a).a},264:function(e,n,t){"use strict";t.r(n);var a=t(233),r=t.n(a),o=t(235),s=(t(99),t(102),t(45),t(103),t(12),t(22),t(238),t(240),t(104),t(241)),i=t(127),u=t.n(i);function l(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),u()(e,a.key,a)}}var c=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),this.tax_document=n.tax_document||""}var n,t,a;return n=e,(t=[{key:"requireds",get:function(){return[{item:"tax_document",label:"cpf válido",validation:function(e){if(e.length<14)return!0;var n=e.replace(/\D/g,"");if(11!=n.toString().length||/^(\d)\1{10}$/.test(n))return!0;var t=!1;return[9,10].forEach((function(e){var a,r=0;n.split(/(?=)/).splice(0,e).forEach((function(n,t){r+=parseInt(n)*(e+2-(t+1))})),(a=(a=r%11)<2?0:11-a)!=n.substring(e,e+1)&&(t=!0)})),t}}]}},{key:"errors",get:function(){var e=this;return this.requireds.filter((function(n){return"function"==typeof n.validation?n.validation(e[n.item]):"string"==typeof e[n.item]&&!e[n.item]||Array.isArray(e[n.item])&&!e[n.item].length?n:void 0}))}},{key:"hasError",get:function(){return!!this.errors.length}},{key:"error_phrases",get:function(){return{init:"Você precisa informar ",end:" para concluir o cadastro."}}},{key:"validation_phrase",get:function(){return this.hasError?this.error_phrases.init+this.errors.map((function(e){return e.label})).join(", ")+this.error_phrases.end:"Uhull, tudo certo! Clique em cadastrar."}}])&&l(n.prototype,t),a&&l(n,a),e}(),d={title:'\n    const Story = {\n      "title" : "Algumas vantagens de utilizar models no javascript com Vue.js"\n    }\n  ',eg1:"\n    //VueComponent.vue\n    export default {\n      //...\n      data(){\n        return {\n          user: {\n            name: 'Igor',\n            last_name: 'Trindade',\n            tax_document: '123.456.789-01'\n          }\n        }\n      }\n      //...\n    }\n  ",eg2:"\n    //User.js\n    export default class User {\n      constructor(obj = {}) {\n        this.name = obj.name || '';\n        this.last_name = obj.last_name || '';\n        this.tax_document = obj.tax_document || '';\n      }\n    }\n  ",eg3:"\n    //VueComponent.vue\n    import User from '/models/User' //caminho do model\n    export default {\n      //...\n      data(){\n        return {\n          user: new User()\n        }\n      }\n      //...\n    }\n  ",eg4:"\n    //User.js\n    import moment from 'moment'\n    export default class User {\n      constructor(obj = {}) {\n        this.name = obj.name || '';\n        this.last_name = obj.last_name || '';\n        this.tax_document = obj.tax_document || '';\n        \n        /**\n        * Mutations\n        */\n        this.bday = moment(obj.bday, 'YYYY-MM-DD').format('DD/MM/YYYY') || '';\n    }\n  ",eg5:"\n  get requireds(){\n    return [\n      {\n        item: 'tax_document',\n        label: 'cpf válido',\n        validation: (value) => {\n          if (value.length < 14) return true\n\n          let cpf = value.replace(/D/g, '');\n          if(cpf.toString().length != 11 || /^(d)\\1{10}$/.test(cpf)) return true;\n          var result = false;\n          [9,10].forEach(function(j){\n            var soma = 0, r;\n            cpf.split(/(?=)/).splice(0,j).forEach(function(e, i){\n              soma += parseInt(e) * ((j+2)-(i+1));\n            });\n            r = soma % 11;\n            r = (r <2)?0:11-r;\n            if(r != cpf.substring(j, j+1)) result = true;\n          });\n          return result;\n        }\n      }\n    ]\n  }\n\n  get errors(){\n    return this.requireds.filter((req) => {\n      if(typeof(req.validation) == 'function'){\n        return req.validation(this[req.item])\n      }\n\n      if(typeof(this[req.item]) == 'string' && !this[req.item] || Array.isArray(this[req.item]) && !this[req.item].length ){\n        return req\n      }\n    })\n  }\n\n  get hasError(){\n    return (this.errors.length) ? true : false\n  }\n\n  get error_phrases(){\n    return {\n      init: 'Você precisa informar ',\n      end: ' para concluir o cadastro.'\n    }\n  }\n\n  get validation_phrase(){\n    if(!this.hasError) return 'Uhull, tudo certo! Clique em cadastrar.'\n    return this.error_phrases.init + this.errors.map( (erro) => erro.label).join(', ') + this.error_phrases.end;\n  }\n  ",eg6:'\n//Form acima\n<div class="">\n  <label>Validação CPF (insira um CPF válido)</label>\n  <input type="tel" placeholder="123.123.123-01" v-mask="\'###.###.###-##\'" v-model="user.tax_document">\n\n  <button @click="go()"  :disabled="userForValidation.hasError" type="button" class="btn btn-primary m-t-10">\n    Cadastrar\n  </button>\n\n  <p>{{userForValidation.validation_phrase}}</p>\n</div>\n  ',eg7:"\n//Utilizando a reatividade a seu favor\ncomputed: {\n  userForValidation() {\n    return new User(this.user)\n  }\n},\n  ",eg8:"\n// Model User.js (completo)\nexport default class User {\n\n  constructor(obj = {}) {\n\n    this.tax_document = obj.tax_document || '';\n\n  }\n\n  get requireds(){\n    return [\n      {\n        item: 'tax_document',\n        label: 'cpf válido',\n        validation: (value) => {\n          if (value.length < 14) return true\n\n          let cpf = value.replace(/D/g, '');\n          if(cpf.toString().length != 11 || /^(d)\\1{10}$/.test(cpf)) return true;\n          var result = false;\n          [9,10].forEach(function(j){\n            var soma = 0, r;\n            cpf.split(/(?=)/).splice(0,j).forEach(function(e, i){\n              soma += parseInt(e) * ((j+2)-(i+1));\n            });\n            r = soma % 11;\n            r = (r <2)?0:11-r;\n            if(r != cpf.substring(j, j+1)) result = true;\n          });\n          return result;\n        }\n      }\n    ]\n  }\n\n  get errors(){\n    return this.requireds.filter((req) => {\n      if(typeof(req.validation) == 'function'){\n        return req.validation(this[req.item])\n      }\n\n      if(typeof(this[req.item]) == 'string' && !this[req.item] || Array.isArray(this[req.item]) && !this[req.item].length ){\n        return req\n      }\n    })\n  }\n\n  get hasError(){\n    return (this.errors.length) ? true : false\n  }\n\n  get error_phrases(){\n    return {\n      init: 'Você precisa informar ',\n      end: ' para concluir o cadastro.'\n    }\n  }\n\n  get validation_phrase(){\n    if(!this.hasError) return 'Uhull, tudo certo! Clique em cadastrar.'\n    return this.error_phrases.init + this.errors.map( (erro) => erro.label).join(', ') + this.error_phrases.end;\n  }\n\n}\n  "},m=t(254),p={name:"algumas-vantagens-de-utilizar-models-no-javascript",metaInfo:function(){return{title:"Algumas vantagens de utilizar models no javascript com Vue.js",meta:[{property:"og:type",content:"site"},{property:"og:title",content:this.story.title},{property:"og:description",content:this.story.resume}]}},components:{Prism:r.a,HomeThis:o.a},data:function(){return{story:{title:"Algumas vantagens de utilizar models no javascript",resume:"A reatividade a favor do dev",url:"/stories/algumas-vantagens-de-utilizar-models-no-javascript/"},user:new c,blockCodes:d}},computed:{userForValidation:function(){return new c(this.user)}},mounted:function(){},methods:{normalizeCode:function(e){return new m({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"remove-initial-line-feed":!0,indent:0}).normalize(e)},go:function(){alert("Foi")}}},v=(t(255),t(31)),f=Object(v.a)(p,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("layout",[t("section",[t("prism",{staticStyle:{"white-space":"pre-wrap","word-break":"break-all"},attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.title)))]),t("div",{staticClass:"story-content"},[t("p",[e._v("\n        Se você utiliza ou já utilizou "),t("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("Vue.js")]),e._v(" em seus projetos provavelmente você já ouviu falar de data bind e reatividade.\n      ")]),t("p",[e._v("\n        Eu mesmo visitei "),t("a",{attrs:{target:"_blank",href:"https://br.vuejs.org/v2/guide/reactivity.html"}},[e._v("esta página da documentação")]),e._v("\n        algumas booas vezes sempre que surgia dúvida do que fazer quando a propriedade de \n        algum objeto insistia em não ser tão reativa assim como esperado.\n      ")]),t("p",[e._v('Pois é, reatividade é a base da maioria dos frameworks modernos e com o Vue.Js não é diferente.\n        Resumindo muito, mas muito mesmo: para que a varinha mágica da reatividade \n        funcione no Vue.js, basicamente ele precisa conhecer os dados de seu objeto e \n        uma das maneiras de fazer isso é declarar a estrutura de seu objeto na \n        propriedade "data" de seus componentes:\n      ')])]),t("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg1)))]),t("div",{staticClass:"story-content"},[t("p",[e._v("\n        Conforme sua aplicação vai crescendo e você vai criando cada vez mais \n        componentes você vai precisar replicar a estrutura de seus objetos entre \n        seus componentes.\n      ")]),t("p",[e._v("\n        É nesta hora que separar a estrutura dos seus Models pode ser muito útil inclusive\n        para facilitar a manutenção de sua aplicação.\n      ")]),t("p",[e._v("Isto que estou falando não é nada novo, na verdade é um dos padrões mais difundidos\n        da nossa área: a programação orientada a objetos. \n      ")]),t("p",[e._v("\n        Mas o que talvez você ainda não tenha pensado é que você pode aproveitar esse padrão \n        também do lado do frontend e ganhar tempo tornando o desenvolvimento das \n        suas aplicações com Vue e Javascript ainda mais eficaz e organizado.\n      ")]),t("p",[e._v("\n        Então chega de enrolação e vamos ao que interessa: o código! \n        Vamos começar criando nossa classe "),t("b",[e._v("User")]),e._v(" para utilizarmos em nossos componentes;\n      ")])]),t("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg2)))]),t("div",{staticClass:"story-content"},[t("p",[e._v("\n        Agora em todo lugar que você precisar utilizar seu \n        objeto "),t("b",[e._v("user: { ... }")]),e._v(" você pode apenas criar uma nova instância \n        através do constructor: "),t("b",[e._v("new User()")])])]),t("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg3)))]),t("div",{staticClass:"story-content"},[t("p",[e._v("\n        Mas você deve estar se perguntando qual a real vantagem de separar a camada \n        do Model sendo que inicialmente a gente acaba escrevendo mais código, não é mesmo?\n      ")]),t("p",[e._v("Pois agora começa a parte realmente interessante!")]),t("p",[e._v("\n        Assim como no backend boa parte dos Models possuem métodos de transformação dos dados e\n        criando seus Models também do lado do client(frontend) você também pode utilizar esse e outros benefícios maravilhosos\n        da programação orientada a objetos, por exemplo criando mutations que tratam \n        os atributos das suas classes no retorno do banco ou API's.\n        Ou seja, padronizando a entrada de dados na sua aplicação.\n        Veja um exemplo simples de mutation com data de nascimento;\n      ")])]),t("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg4)))]),t("div",{staticClass:"story-content"},[t("p",[e._v("No exemplo acima ao instânciar um objeto da classe User, \n        nós verificamos se a propriedade bday do objeto que recebemos pelo parâmetro \n        no construtor é válida ou true e aplicamos a mutation que irá formatar a data para o formato 'DD/MM/YYYY'.\n        Caso contrário nós passamos uma string vazia para que o atributo tenha a propriedade definida com o \n        valor default que setamos na segundo condição dos operadores lógicos\n      ")]),t("p",[e._v("\n        E se você já gostou do que viu, imagine agora implementar uma validação \n        dinânima e personalizada para seus forms podendo criar funções específicas por campo,\n        centralizadas em uma única classe e que poderá ser reutilizada aonde quer que você \n        precise validar uma instância daquele Model?\n      ")]),t("p",[e._v("Pois bem, veja abaixo o que um Turbo Model pode fazer por você:")])]),t("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg5)))]),t("div",{staticClass:"story-content"},[t("p",[e._v('Este é um pequeno exemplo de form utilizando nosso "Turbo" Model User com validação do CPF na própria classe que pode ser utilizado em toda aplicação sem ou com quase nada de recódigo.\n      ')]),t("div",{},[t("label",[e._v("Validação CPF (insira um CPF válido)")]),t("input",{directives:[{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"},{name:"model",rawName:"v-model",value:e.user.tax_document,expression:"user.tax_document"}],attrs:{type:"tel",placeholder:"123.123.123-01"},domProps:{value:e.user.tax_document},on:{input:function(n){n.target.composing||e.$set(e.user,"tax_document",n.target.value)}}}),t("button",{staticClass:"btn btn-primary btn-xs m-t-10",attrs:{disabled:e.userForValidation.hasError,type:"button"},on:{click:function(n){return e.go()}}},[e._v("\n          Cadastrar\n        ")]),t("p",[e._v(e._s(e.userForValidation.validation_phrase))])])]),t("prism",{attrs:{language:"html"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg6)))]),t("div",{staticClass:"story-content"},[t("p",[e._v("Note que utilizamos acima o objeto "),t("b",[e._v("userForValidation")]),e._v(" que é uma \n      propriedade computed do Vue.js para que nossa aplicação seja avisada \n      após qualquer alteração no objeto instância, utilizando a reatividade a nosso favor.\n      ")])]),t("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg7)))]),t("div",{staticClass:"story-content"},[t("p",[e._v("E para completar este é nosso "),t("b",[e._v("Turbo Model User")]),e._v(" completo:")])]),t("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg8)))])],1),t("HomeThis")],1)}),[],!1,null,"f1c472f0",null);n.default=f.exports}}]);