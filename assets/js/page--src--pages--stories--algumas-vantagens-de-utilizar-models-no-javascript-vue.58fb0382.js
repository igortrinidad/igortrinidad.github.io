(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{227:function(e,t,n){},233:function(e,t,n){"use strict";function a(e){for(var t=arguments,n=1;n<arguments.length;n++)for(var a in arguments[n])e[a]=t[n][a];return e}var r={functional:!0,props:{code:{type:String},inline:{type:Boolean,default:!1},language:{type:String,default:"markup"}},render:function(e,t){var n=t.props.code||(t.children&&t.children.length>0?t.children[0].text:""),r=t.props.inline,o=t.props.language,s=Prism.languages[o],i="language-"+o;return r?e("code",a({},t.data,{class:[t.data.class,i],domProps:a({},t.data.domProps,{innerHTML:Prism.highlight(n,s)})})):e("pre",a({},t.data,{class:[t.data.class,i]}),[e("code",{class:i,domProps:{innerHTML:Prism.highlight(n,s)}})])}};e.exports=r},234:function(e,t,n){"use strict";var a=n(227);n.n(a).a},235:function(e,t,n){"use strict";var a={name:"HomeThis",data:function(){return{pageLT:0}},mounted:function(){this.pageLT=(window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart)/1e3+" seconds"}},r=(n(234),n(31)),o=Object(r.a)(a,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("section",[t("h1",{staticClass:"text-center"},[this._v("\n    let that = this\n  ")]),t("div",{staticClass:"w-full mt-4 text-center"},[t("p",[this._v("This project was made using "),t("a",{attrs:{href:"https://github.com/vuejs/vue",target:"_blank"}},[this._v("Vue.Js")]),this._v(" and "),t("a",{attrs:{href:"https://gridsome.org/",target:"_blank"}},[this._v("Gridsome")])]),t("p",[this._v("Did you see something that could be improved here? Send a pull request \\o/")]),t("div",{staticClass:"w-full text-center mt-4"},[t("a",{staticClass:"btn btn-outline btn-primary btn-xs",attrs:{href:"https://github.com/igortrinidad/igortrindade-portfolio",target:"_blank"}},[this._v("See this repo on GitHub")])])])])}],!1,null,null,null);t.a=o.exports},238:function(e,t,n){"use strict";n(239);var a=n(5),r=n(98),o=n(6),s=/./.toString,i=function(e){n(17)(RegExp.prototype,"toString",e,!0)};n(7)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?i((function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)})):"toString"!=s.name&&i((function(){return s.call(this)}))},239:function(e,t,n){n(6)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(98)})},240:function(e,t,n){var a=Date.prototype,r=a.toString,o=a.getTime;new Date(NaN)+""!="Invalid Date"&&n(17)(a,"toString",(function(){var e=o.call(this);return e==e?r.call(this):"Invalid Date"}))},241:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return a}))},242:function(e,t,n){},254:function(e,t,n){!function(){var t=Object.assign||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};function n(e){this.defaults=t({},e)}function a(e){for(var t=0,n=0;n<e.length;++n)e.charCodeAt(n)=="\t".charCodeAt(0)&&(t+=3);return e.length+t}n.prototype={setDefaults:function(e){this.defaults=t(this.defaults,e)},normalize:function(e,n){for(var a in n=t(this.defaults,n)){var r=a.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));"normalize"!==a&&"setDefaults"!==r&&n[a]&&this[r]&&(e=this[r].call(this,e,n[a]))}return e},leftTrim:function(e){return e.replace(/^\s+/,"")},rightTrim:function(e){return e.replace(/\s+$/,"")},tabsToSpaces:function(e,t){return t=0|t||4,e.replace(/\t/g,new Array(++t).join(" "))},spacesToTabs:function(e,t){return t=0|t||4,e.replace(RegExp(" {"+t+"}","g"),"\t")},removeTrailing:function(e){return e.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(e){return e.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(e){var t=e.match(/^[^\S\n\r]*(?=\S)/gm);return t&&t[0].length?(t.sort((function(e,t){return e.length-t.length})),t[0].length?e.replace(RegExp("^"+t[0],"gm"),""):e):e},indent:function(e,t){return e.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++t).join("\t")+"$&")},breakLines:function(e,t){t=!0===t?80:0|t||80;for(var n=e.split("\n"),r=0;r<n.length;++r)if(!(a(n[r])<=t)){for(var o=n[r].split(/(\s+)/g),s=0,i=0;i<o.length;++i){var u=a(o[i]);(s+=u)>t&&(o[i]="\n"+o[i],s=u)}n[r]=o.join("")}return n.join("\n")}},e.exports&&(e.exports=n),"undefined"!=typeof Prism&&(Prism.plugins.NormalizeWhitespace=new n({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",(function(e){var t=Prism.plugins.NormalizeWhitespace;if(!e.settings||!1!==e.settings["whitespace-normalization"])if(e.element&&e.element.parentNode||!e.code){var n=e.element.parentNode,a=/(?:^|\s)no-whitespace-normalization(?:\s|$)/;if(e.code&&n&&"pre"===n.nodeName.toLowerCase()&&!a.test(n.className)&&!a.test(e.element.className)){for(var r=n.childNodes,o="",s="",i=!1,u=0;u<r.length;++u){var l=r[u];l==e.element?i=!0:"#text"===l.nodeName&&(i?s+=l.nodeValue:o+=l.nodeValue,n.removeChild(l),--u)}if(e.element.children.length&&Prism.plugins.KeepMarkup){var c=o+e.element.innerHTML+s;e.element.innerHTML=t.normalize(c,e.settings),e.code=e.element.textContent}else e.code=o+e.code+s,e.code=t.normalize(e.code,e.settings)}}else e.code=t.normalize(e.code,e.settings)})))}()},255:function(e,t,n){"use strict";var a=n(242);n.n(a).a},264:function(e,t,n){"use strict";n.r(t);var a=n(233),r=n.n(a),o=n(235),s=(n(99),n(102),n(45),n(103),n(12),n(22),n(238),n(240),n(104),n(241)),i=n(127),u=n.n(i);function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),u()(e,a.key,a)}}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),this.tax_document=t.tax_document||""}var t,n,a;return t=e,(n=[{key:"requireds",get:function(){return[{item:"tax_document",label:"cpf válido",validation:function(e){if(e.length<14)return!0;var t=e.replace(/\D/g,"");if(11!=t.toString().length||/^(\d)\1{10}$/.test(t))return!0;var n=!1;return[9,10].forEach((function(e){var a,r=0;t.split(/(?=)/).splice(0,e).forEach((function(t,n){r+=parseInt(t)*(e+2-(n+1))})),(a=(a=r%11)<2?0:11-a)!=t.substring(e,e+1)&&(n=!0)})),n}}]}},{key:"errors",get:function(){var e=this;return this.requireds.filter((function(t){return"function"==typeof t.validation?t.validation(e[t.item]):"string"==typeof e[t.item]&&!e[t.item]||Array.isArray(e[t.item])&&!e[t.item].length?t:void 0}))}},{key:"hasError",get:function(){return!!this.errors.length}},{key:"error_phrases",get:function(){return{init:"Você precisa informar ",end:" para concluir o cadastro."}}},{key:"validation_phrase",get:function(){return this.hasError?this.error_phrases.init+this.errors.map((function(e){return e.label})).join(", ")+this.error_phrases.end:"Uhull, tudo certo! Clique em cadastrar."}}])&&l(t.prototype,n),a&&l(t,a),e}(),d={title:'\n    const Story = {\n      "title" : "Algumas vantagens de utilizar models no javascript com Vue.js"\n    }\n  ',eg1:"\n    //VueComponent.vue\n    export default {\n      //...\n      data(){\n        return {\n          user: {\n            name: 'Igor',\n            last_name: 'Trindade',\n            tax_document: '123.456.789-01'\n          }\n        }\n      }\n      //...\n    }\n  ",eg2:"\n    //User.js\n    export default class User {\n      constructor(obj = {}) {\n        this.name = obj.name || '';\n        this.last_name = obj.last_name || '';\n        this.tax_document = obj.tax_document || '';\n      }\n    }\n  ",eg3:"\n    //VueComponent.vue\n    import User from '/models/User' //caminho do model\n    export default {\n      //...\n      data(){\n        return {\n          user: new User()\n        }\n      }\n      //...\n    }\n  ",eg4:"\n    //User.js\n    import moment from 'moment'\n    export default class User {\n      constructor(obj = {}) {\n        this.name = obj.name || '';\n        this.last_name = obj.last_name || '';\n        this.tax_document = obj.tax_document || '';\n        \n        /**\n        * Mutations\n        */\n        this.bday = moment(obj.bday, 'YYYY-MM-DD').format('DD/MM/YYYY') || '';\n    }\n  ",eg5:"\n  get requireds(){\n    return [\n      {\n        item: 'tax_document',\n        label: 'cpf válido',\n        validation: (value) => {\n          if (value.length < 14) return true\n\n          let cpf = value.replace(/D/g, '');\n          if(cpf.toString().length != 11 || /^(d)\\1{10}$/.test(cpf)) return true;\n          var result = false;\n          [9,10].forEach(function(j){\n            var soma = 0, r;\n            cpf.split(/(?=)/).splice(0,j).forEach(function(e, i){\n              soma += parseInt(e) * ((j+2)-(i+1));\n            });\n            r = soma % 11;\n            r = (r <2)?0:11-r;\n            if(r != cpf.substring(j, j+1)) result = true;\n          });\n          return result;\n        }\n      }\n    ]\n  }\n\n  get errors(){\n    return this.requireds.filter((req) => {\n      if(typeof(req.validation) == 'function'){\n        return req.validation(this[req.item])\n      }\n\n      if(typeof(this[req.item]) == 'string' && !this[req.item] || Array.isArray(this[req.item]) && !this[req.item].length ){\n        return req\n      }\n    })\n  }\n\n  get hasError(){\n    return (this.errors.length) ? true : false\n  }\n\n  get error_phrases(){\n    return {\n      init: 'Você precisa informar ',\n      end: ' para concluir o cadastro.'\n    }\n  }\n\n  get validation_phrase(){\n    if(!this.hasError) return 'Uhull, tudo certo! Clique em cadastrar.'\n    return this.error_phrases.init + this.errors.map( (erro) => erro.label).join(', ') + this.error_phrases.end;\n  }\n  ",eg6:'\n//Form acima\n<div class="">\n  <label>Validação CPF (insira um CPF válido)</label>\n  <input type="tel" placeholder="123.123.123-01" v-mask="\'###.###.###-##\'" v-model="user.tax_document">\n\n  <button @click="go()"  :disabled="userForValidation.hasError" type="button" class="btn btn-primary m-t-10">\n    Cadastrar\n  </button>\n\n  <p>{{userForValidation.validation_phrase}}</p>\n</div>\n  ',eg7:"\n//Utilizando a reatividade a seu favor\ncomputed: {\n  userForValidation() {\n    return new User(this.user)\n  }\n},\n  ",eg8:"\n// Model User.js (completo)\nexport default class User {\n\n  constructor(obj = {}) {\n\n    this.tax_document = obj.tax_document || '';\n\n  }\n\n  get requireds(){\n    return [\n      {\n        item: 'tax_document',\n        label: 'cpf válido',\n        validation: (value) => {\n          if (value.length < 14) return true\n\n          let cpf = value.replace(/D/g, '');\n          if(cpf.toString().length != 11 || /^(d)\\1{10}$/.test(cpf)) return true;\n          var result = false;\n          [9,10].forEach(function(j){\n            var soma = 0, r;\n            cpf.split(/(?=)/).splice(0,j).forEach(function(e, i){\n              soma += parseInt(e) * ((j+2)-(i+1));\n            });\n            r = soma % 11;\n            r = (r <2)?0:11-r;\n            if(r != cpf.substring(j, j+1)) result = true;\n          });\n          return result;\n        }\n      }\n    ]\n  }\n\n  get errors(){\n    return this.requireds.filter((req) => {\n      if(typeof(req.validation) == 'function'){\n        return req.validation(this[req.item])\n      }\n\n      if(typeof(this[req.item]) == 'string' && !this[req.item] || Array.isArray(this[req.item]) && !this[req.item].length ){\n        return req\n      }\n    })\n  }\n\n  get hasError(){\n    return (this.errors.length) ? true : false\n  }\n\n  get error_phrases(){\n    return {\n      init: 'Você precisa informar ',\n      end: ' para concluir o cadastro.'\n    }\n  }\n\n  get validation_phrase(){\n    if(!this.hasError) return 'Uhull, tudo certo! Clique em cadastrar.'\n    return this.error_phrases.init + this.errors.map( (erro) => erro.label).join(', ') + this.error_phrases.end;\n  }\n\n}\n  "},m=n(254),p={name:"algumas-vantagens-de-utilizar-models-no-javascript",metaInfo:function(){return{title:"Algumas vantagens de utilizar models no javascript com Vue.js",meta:[{property:"og:type",content:"site"},{property:"og:title",content:this.story.title},{property:"og:description",content:this.story.resume}]}},components:{Prism:r.a,HomeThis:o.a},data:function(){return{story:{title:"Algumas vantagens de utilizar models no javascript",resume:"A reatividade a favor do dev",url:"/stories/algumas-vantagens-de-utilizar-models-no-javascript/"},user:new c,blockCodes:d}},computed:{userForValidation:function(){return new c(this.user)}},mounted:function(){},methods:{normalizeCode:function(e){return new m({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"remove-initial-line-feed":!0,indent:0}).normalize(e)},go:function(){alert("CPF validado com sucesso.")}}},v=(n(255),n(31)),f=Object(v.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",[n("section",[n("g-link",{staticClass:"btn btn-outline btn-primary btn-xs mb-3",attrs:{to:"/"}},[e._v("\n      Back to home\n    ")]),n("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.title)))]),n("div",{staticClass:"story-content"},[n("p",[e._v("\n        Se você utiliza ou já utilizou "),n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("Vue.js")]),e._v(" em seus projetos provavelmente você já ouviu falar de data bind e reatividade.\n      ")]),n("p",[e._v("\n        Eu mesmo visitei "),n("a",{attrs:{target:"_blank",href:"https://br.vuejs.org/v2/guide/reactivity.html"}},[e._v("esta página da documentação")]),e._v("\n        algumas booas vezes sempre que surgia dúvida do que fazer quando a propriedade de \n        algum objeto insistia em não ser tão reativa assim como esperado.\n      ")]),n("p",[e._v('Pois é, reatividade é a base da maioria dos frameworks modernos e com o Vue.Js não é diferente.\n        Resumindo muito, mas muito mesmo: para que a varinha mágica da reatividade \n        funcione no Vue.js, basicamente ele precisa conhecer os dados de seu objeto e \n        uma das maneiras de fazer isso é declarar a estrutura de seu objeto na \n        propriedade "data" de seus componentes:\n      ')])]),n("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg1)))]),n("div",{staticClass:"story-content"},[n("p",[e._v("\n        Conforme sua aplicação vai crescendo e você vai criando cada vez mais \n        componentes você vai precisar replicar a estrutura de seus objetos entre \n        seus componentes.\n      ")]),n("p",[e._v("\n        É nesta hora que separar a estrutura dos seus Models pode ser muito útil inclusive\n        para facilitar a manutenção de sua aplicação.\n      ")]),n("p",[e._v("Isto que estou falando não é nada novo, na verdade é um dos padrões mais difundidos\n        da nossa área: a programação orientada a objetos. \n      ")]),n("p",[e._v("\n        Mas o que talvez você ainda não tenha pensado é que você pode aproveitar esse padrão \n        também do lado do frontend e ganhar tempo tornando o desenvolvimento das \n        suas aplicações com Vue e Javascript ainda mais eficaz e organizado.\n      ")]),n("p",[e._v("\n        Então chega de enrolação e vamos ao que interessa: o código! \n        Vamos começar criando nossa classe "),n("b",[e._v("User")]),e._v(" para utilizarmos em nossos componentes;\n      ")])]),n("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg2)))]),n("div",{staticClass:"story-content"},[n("p",[e._v("\n        Agora em todo lugar que você precisar utilizar seu \n        objeto "),n("b",[e._v("user: { ... }")]),e._v(" você pode apenas criar uma nova instância \n        através do constructor: "),n("b",[e._v("new User()")])])]),n("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg3)))]),n("div",{staticClass:"story-content"},[n("p",[e._v("\n        Mas você deve estar se perguntando qual a real vantagem de separar a camada \n        do Model sendo que inicialmente a gente acaba escrevendo mais código, não é mesmo?\n      ")]),n("p",[e._v("Pois agora começa a parte realmente interessante!")]),n("p",[e._v("\n        Assim como no backend boa parte dos Models possuem métodos de transformação dos dados e\n        criando seus Models também do lado do client(frontend) você também pode utilizar esse e outros benefícios maravilhosos\n        da programação orientada a objetos, por exemplo criando mutations que tratam \n        os atributos das suas classes no retorno do banco ou API's.\n        Ou seja, padronizando a entrada de dados na sua aplicação.\n        Veja um exemplo simples de mutation com data de nascimento;\n      ")])]),n("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg4)))]),n("div",{staticClass:"story-content"},[n("p",[e._v("No exemplo acima ao instânciar um objeto da classe User, \n        nós verificamos se a propriedade bday do objeto que recebemos pelo parâmetro \n        no construtor é válida ou true e aplicamos a mutation que irá formatar a data para o formato 'DD/MM/YYYY'.\n        Caso contrário nós passamos uma string vazia para que o atributo tenha a propriedade definida com o \n        valor default que setamos na segundo condição dos operadores lógicos\n      ")]),n("p",[e._v("\n        E se você já gostou do que viu, imagine agora implementar uma validação \n        dinânima e personalizada para seus forms podendo criar funções específicas por campo,\n        centralizadas em uma única classe e que poderá ser reutilizada aonde quer que você \n        precise validar uma instância daquele Model?\n      ")]),n("p",[e._v("Pois bem, veja abaixo o que um Turbo Model pode fazer por você:")])]),n("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg5)))]),n("div",{staticClass:"story-content"},[n("p",[e._v('Este é um pequeno exemplo de form utilizando nosso "Turbo" Model User \n        com validação do CPF na própria classe e que pode ser reutilizado em toda aplicação \n        sem ou com quase nada de recódigo.\n      ')]),n("div",{staticClass:"w-full flex justify-center mt-3"},[n("div",{staticClass:"w-full max-w-lg border border-grey-light shadow"},[n("div",{staticClass:"w-full bg-grey-light flex items-center justify-center p-3"},[n("h3",{staticClass:"text-center text-black"},[e._v("Demo validação")])]),n("div",{staticClass:"w-full p-4"},[n("label",[e._v("Input CPF")]),n("input",{directives:[{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"},{name:"model",rawName:"v-model",value:e.user.tax_document,expression:"user.tax_document"}],staticClass:"w-full sm:w-1/2 border border-black p-4",attrs:{type:"tel",placeholder:"123.123.123-01"},domProps:{value:e.user.tax_document},on:{input:function(t){t.target.composing||e.$set(e.user,"tax_document",t.target.value)}}}),n("button",{staticClass:"mt-3 btn btn-primary btn-xs m-t-10",attrs:{disabled:e.userForValidation.hasError,type:"button"},on:{click:function(t){return e.go()}}},[e._v("\n              Cadastrar\n            ")]),n("p",{staticClass:"text-xs"},[e._v(e._s(e.userForValidation.validation_phrase))])])])])]),n("prism",{attrs:{language:"html"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg6)))]),n("div",{staticClass:"story-content"},[n("p",[e._v("Note que utilizamos acima o objeto "),n("b",[e._v("userForValidation")]),e._v(" que é uma \n      propriedade computed do Vue.js para que nossa aplicação seja avisada \n      após qualquer alteração no objeto instância, utilizando a reatividade a nosso favor.\n      ")])]),n("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg7)))]),n("div",{staticClass:"story-content"},[n("p",[e._v("E para completar este é nosso "),n("b",[e._v("Turbo Model User")]),e._v(" completo:")])]),n("prism",{attrs:{language:"javascript"}},[e._v(e._s(e.normalizeCode(e.blockCodes.eg8)))])],1),n("HomeThis")],1)}),[],!1,null,"e501082a",null);t.default=f.exports}}]);